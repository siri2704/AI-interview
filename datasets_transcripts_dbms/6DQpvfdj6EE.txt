Hello friends, Welcome to Gate Smashers the topic is Self join in self join the table is joined with itself means we join a table with itself so actually where do we need the use of self join for that I have taken a scenario where I am talking about study table all the online material available with me either we search somewhere on google or we search on youtube maximum time you will find one example only there is a employee there is a manager so find employee and manager id one who is employee and find his manager so that example because although I have also read that example during my time the example here I am going to explain you with a fresh example in that example first of all let me tell you what is the scenario scenario means which table we are taking and how do we apply join self join on it so the table is study in study table there are three columns student ID that is S_ID course ID, C_ID and since means this is giving me information about students ID it is giving about course ID and this on since, since means which student is enrolled in which course or which student is studying which course and from when but in actual from where does this study table is taking information from where data is coming to it here what the S_ID is doing? as a foreign key and and it is taking reference from student table now you assume there is additional there is a SID and this is giving it reference there is one more table course in that course, this is the course id and that is giving reference to it means this is a relationship table intermediate table which is giving information that which student is studying which course and when this is the actual view the scenario is this there are 3 tables but now we don't need these tables only on this table we are applying join and on that we have written a query and we will solve that query therefore you concentrate on this table where student id, course id and this student id and course id are of composite primary here we have taken composite primary key composite means such a primary key which is made up of two attributes so here the two attributes student id and course id are making the primary key in combined way now what is the second thing we are talking about there is one query we will solve query is find the student id who is enrolled in atleast two courses means we have to find student id S1, S2, S1 lots of id are there and what courses are they studying but what information actually we have to find out id of that student who is enrolled in atleast two courses what is the meaning of atleast two? minimum two it can be more than two but enrolled in minimum two courses so here I have put the data in such a way that you will know that S1 is enrolled in C1 S2 is enrolled in C2 S1 is enrolled in C2 means S1 student is enrolled in two courses so what should come in output? S1 S2 should not come because S2 is enrolled only in C2 we have taken the content of this table in such a way that so that we can easily solve value and the question now we will frame this query and we will solve this query with self join although we can solve this query with sub query also we can also do it with nested query but now we are concentrating on self join. So what is self join? We are joining one table with itself so we are using study table here so here we have to join the study table with itself again so for that the query if I write the query here let's say select what we have to select we will look afterward because always the query from where the sequel query start to execute with from so first of all I have to see the table which tables I need what are the tables do I need here So first of all you know that whenever we solve any query first of all we find what tables do we need so obviously here there is only one table you will have to take the help of that table only so we have to use the study table but now this from study now I have to use this table two times how will you use this table two times because whenever join occurs join is always cross product plus some conditions cross product plus some conditions so without cross product join cannot happen even I have made a video of natural join you can check in that also I've made a video on equi join you can check there also that whenever we join first there will be cross product means two tables will get multiplied with themselves but here there is only one table and from that table I have to bring output so how will it happen? means we have to multiply study table with study table means you imagine study table is written two times let's say one more time it is written S1C1 S2 C2 S1 C2 and 2016 2017 2017 and how do we how we implement? from study table and we will make its alife, alife alife means we generate a temporary name so what the compiler will feel What have we changed the name of the study table? T1 it is not permanent we are not renaming it but just creating a alife study as T1, study as T2 so what meaning it has the name of this study table became T1 and the name of this study table became T2 it is the same table but there are two copies means there is as it is one copy name of 1 copy we temporarily kept T1 and we kept another name temporarily as T2 so that we can write the query because in query we have to obviously do join and join will be done after cross product so for cross product I need two table but we can write table name only one time can you write from study, study if you write like this write from study, study it will show error that study table is one so therefore we have to we are fooling the compiler, how? the same we have made T1 and the same table as T2, we have made two alife now by default you understand whenever we write this after from what does comma mean? Cross product So what will happen in this two tables? cross product, means means this table and this table there will be cross product in between and whenever cross product happens always if there are m number of rows in one table and in other n No. so total will be m x n so here it is 3 and here 3 so total will be 9 so here I am writing what will be the output when we do cross product S1 C1 means 1st row will be multiplied with first see S1 C1 S2 C2 S1 C2 and we copy this as it is then second row is S2 C2 this we will multiply with 3 rows S2 C2 S1 C2 S2 C2 S2 C2 and the third row is S1 C2 and this also will be multiplied with all 3 S1 C1 S2 C2 S1 C2 S1 C2 S1 C2 right, so this is the value from table 1 and this is the value from table 2 nothing to do take one row took one row from here and multiplied with these three took 2nd row and multiplied with all three picked 3rd row and multiplied with all three I didn't took the since column here if you want to take you can take as it is but we don't need this, it is not asked here so therefore I had not written that column here if you want you can write it now this 1, 2, 3, 4, 5, 6, 7, 8, 9 so these 9 rows have come, after what we have made two alife from study table and we did its cross product but cross product plus some condition now we have to put some condition what we have to find in the condition. Find the information of that student find the S_ID of the student who is studying two minimum two courses atleast two courses means student is one and courses are two student is one course are two means student ID should be same and course ID should be different so then only we can know so what query we will write? we will complete it select from T1, T2 where this query is in the whole row in complete one row where T1 because now study has become T1 T1.Sid is equal to T2.Sid and T1.Cid take column name as it is otherwise you will have confusion take the name of column as it is T1.Cid is not equal to T2.Cid means in both the tables student id  is same but but course id should be different this is not equal to, not equal to if both ids same of students means if we talk about same students if we talk about one student but corresponding courses are different so atleast my condition number two will be fulfilled so how we will do here, so this condition we have to these two conditions here after cross product we will apply, because here cross product is done This is the cross product but after cross product condition so this is cross product plus some condition so this is the condition so now we will check this condition T1.Sid is equal to T2.Sid true T1.Cid is not equal to T2.Cid false so true and false will be false so this row will be neglected this row will not be selected next S1.this Sid is equal to Sid are they both equal? No so first condition became false so obviously false and so you do anything answer will come false so this row is also rejected S1 = S1, yes C1 is not equal to C2, Yes, so this row will be selected see S1 and S1 are equal? Sid and Sid are equal and C1 and C2 are not equal and the same thing we are talking, Cid is not equal to Cid so this row will be selected Sid is equal to Sid, No, Sid is equal to Sid,  Yes but no Cid is not equal Cid, Cid is equal to Cid, rejected Sid is equal to Sid, No Sid is equal to Sid, Yes Course id is not equal, yes, course id is also not equal selected Sid is equal to Sid No, Sid is equal to Sid, Yes course id is not equal No, course id's are equal so this row will be rejected so what I got finally in output only these two rows came I'll highlight them here first this row came second is this these rows will be in the final output means whose output are these this one this one and this one whose output came? of this total, from to this whole condition therefore I was given these rows in output now from these rows what output I have to find? it is student, obviously student 1 has to come because student 1 is  that who is studying two courses so atleast 2nd condition is here for 3, 4 we can write condition further but atleast for 2 now my condition is being fulfilled so what we have to find in final Sid in final we have to print Sid so so I will print Sid, but here keep in mind if you write Sid alone the compiler will give error because compiler will be confused because here there are two Sid one Sid is in T1 and one Sid is in T2 also so from where Sid has to be taken so you mention there, let's say T1.Sid you can use T2 also no problem T1.Sid so final output will be S1 so this is how the self join actually works means we multiply a table with itself and how do we write? by making alife and then applying conditions So self join I have told you already mostly you will get one example but this example is best and a  new query we have solved this query with the help of self join and if you liked my video then please like this share this and please subscribe my channel Thank You.